"""
This python module will read the data sent by esp8266 to the server from
a socket.
"""

import matplotlib.pyplot as plt

# lst = [{"Ax":1.04, "Ay":0.02, "Az":0.08, "T":22.37, "Gx":-2.41, "Gy":-3.70, "Gz":-0.06},
# {"Ax":0.86, "Ay":0.41, "Az":-0.35, "T":22.37, "Gx":0.08, "Gy":-32.32, "Gz":-2.03},
# {"Ax":0.86, "Ay":0.41, "Az":-0.35, "T":22.37, "Gx":0.08, "Gy":-32.32, "Gz":-2.03},
# {"Ax":0.48, "Ay":0.86, "Az":-0.14, "T":22.46, "Gx":-19.32, "Gy":-6.15, "Gz":-16.34},
# {"Ax":0.48, "Ay":0.86, "Az":-0.14, "T":22.46, "Gx":-19.32, "Gy":-6.15, "Gz":-16.34},
# {"Ax":0.49, "Ay":0.89, "Az":-0.07, "T":22.46, "Gx":-4.97, "Gy":-2.23, "Gz":-3.63},
# {"Ax":0.49, "Ay":0.89, "Az":-0.07, "T":22.46, "Gx":-4.97, "Gy":-2.23, "Gz":-3.63},
# {"Ax":0.07, "Ay":0.97, "Az":0.43, "T":22.46, "Gx":17.91, "Gy":5.37, "Gz":-11.81},
# {"Ax":0.07, "Ay":0.97, "Az":0.43, "T":22.46, "Gx":17.91, "Gy":5.37, "Gz":-11.81},
# {"Ax":0.05, "Ay":0.99, "Az":0.19, "T":22.37, "Gx":-1.40, "Gy":0.08, "Gz":3.40},
# {"Ax":0.05, "Ay":0.99, "Az":0.19, "T":22.37, "Gx":-1.40, "Gy":0.08, "Gz":3.40},
# {"Ax":0.06, "Ay":1.00, "Az":0.21, "T":22.46, "Gx":-0.72, "Gy":-3.45, "Gz":1.81},
# {"Ax":0.06, "Ay":1.00, "Az":0.21, "T":22.46, "Gx":-0.72, "Gy":-3.45, "Gz":1.81},
# {"Ax":-0.01, "Ay":0.33, "Az":1.00, "T":22.46, "Gx":-37.21, "Gy":-13.70, "Gz":-0.84},
# {"Ax":-0.01, "Ay":0.33, "Az":1.00, "T":22.46, "Gx":-37.21, "Gy":-13.70, "Gz":-0.84},
# {"Ax":-0.07, "Ay":0.19, "Az":1.01, "T":22.46, "Gx":-1.37, "Gy":-2.42, "Gz":2.50},
# {"Ax":-0.07, "Ay":0.19, "Az":1.01, "T":22.46, "Gx":-1.37, "Gy":-2.42, "Gz":2.50},
# {"Ax":1.01, "Ay":0.46, "Az":0.57, "T":22.46, "Gx":61.75, "Gy":-250.14, "Gz":-106.08},
# {"Ax":1.01, "Ay":0.46, "Az":0.57, "T":22.46, "Gx":61.75, "Gy":-250.14, "Gz":-106.08},
# {"Ax":0.20, "Ay":0.28, "Az":-0.95, "T":22.46, "Gx":21.24, "Gy":-10.11, "Gz":14.12},
# {"Ax":0.20, "Ay":0.28, "Az":-0.95, "T":22.46, "Gx":21.24, "Gy":-10.11, "Gz":14.12},
# {"Ax":0.24, "Ay":-0.11, "Az":-0.90, "T":22.46, "Gx":34.11, "Gy":31.56, "Gz":25.98},
# {"Ax":0.24, "Ay":-0.11, "Az":-0.90, "T":22.46, "Gx":34.11, "Gy":31.56, "Gz":25.98},
# {"Ax":0.93, "Ay":-0.44, "Az":0.21, "T":22.55, "Gx":71.09, "Gy":112.77, "Gz":-50.11},
# {"Ax":0.93, "Ay":-0.44, "Az":0.21, "T":22.55, "Gx":71.09, "Gy":112.77, "Gz":-50.11},
# {"Ax":1.00, "Ay":0.05, "Az":0.15, "T":22.46, "Gx":-1.58, "Gy":0.36, "Gz":-0.42}]

data_ = {"Ax":[], "Ay":[], "Az":[], "Gx":[], "Gy":[], "Gz":[]}


def plot_data(ax1, data):
	"""
	data_ - as passed by read_socket()
	"""
	if data is dict():
		return
	for x in range(len(ax)):
		for y in range(len(ax[0])):
			ax[x][y].clear()

	for key in data:
			if key is not "T":
				data_[key].append(data[key])

	if len(data_['Ax']) > 1:
		x = [j for j in range(len(data_['Ax']))]
		ax1[0][0].plot(x, data_['Ax'])
		ax1[0][1].plot(x, data_['Ay'])
		ax1[0][2].plot(x, data_['Az'])

		ax1[1][0].plot(x, data_['Gx'])
		ax1[1][1].plot(x, data_['Gy'])
		ax1[1][2].plot(x, data_['Gz'])

# i = 0

# def dummyReadSocket(a):

# 	# insert this line in original read_socket
# 	global i
# 	data = lst[i]
# 	plot_data(ax, data)
# 	i+=1
